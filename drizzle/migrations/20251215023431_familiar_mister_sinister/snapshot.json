{
  "version": "8",
  "dialect": "postgres",
  "id": "58b4ca67-625e-42bb-b4fd-50e736c65e17",
  "prevIds": ["b6a5cfae-8f0f-4132-a83d-49fdd93851e0"],
  "ddl": [
    {
      "values": ["INDOOR_CAFE", "OUTDOOR_CAFE"],
      "name": "CafeType",
      "entityType": "enums",
      "schema": "public"
    },
    {
      "values": ["DRAFT", "PUBLISHED", "ARCHIVED"],
      "name": "ContentStatus",
      "entityType": "enums",
      "schema": "public"
    },
    {
      "values": ["LOW", "MEDIUM", "HIGH", "PREMIUM"],
      "name": "PriceRange",
      "entityType": "enums",
      "schema": "public"
    },
    {
      "values": [
        "SUKABIRUS",
        "SUKAPURA",
        "BATUNUNGGAL",
        "BUAH BATU",
        "DAYEUH_KOLOT",
        "CIGANITRI"
      ],
      "name": "Region",
      "entityType": "enums",
      "schema": "public"
    },
    {
      "values": ["APPROVED", "REJECTED", "PENDING"],
      "name": "ReviewStatus",
      "entityType": "enums",
      "schema": "public"
    },
    {
      "values": ["ONE", "TWO", "THREE", "FOUR", "FIVE"],
      "name": "StarRating",
      "entityType": "enums",
      "schema": "public"
    },
    {
      "values": ["FAMILY", "COUPLE", "SOLO", "BUSINESS", "FRIENDS"],
      "name": "VisitorType",
      "entityType": "enums",
      "schema": "public"
    },
    {
      "isRlsEnabled": true,
      "name": "cafe_opening_hours",
      "entityType": "tables",
      "schema": "public"
    },
    {
      "isRlsEnabled": true,
      "name": "cafes",
      "entityType": "tables",
      "schema": "public"
    },
    {
      "isRlsEnabled": true,
      "name": "facilities",
      "entityType": "tables",
      "schema": "public"
    },
    {
      "isRlsEnabled": true,
      "name": "cafe_facilities",
      "entityType": "tables",
      "schema": "public"
    },
    {
      "isRlsEnabled": true,
      "name": "cafe_terms",
      "entityType": "tables",
      "schema": "public"
    },
    {
      "isRlsEnabled": true,
      "name": "terms",
      "entityType": "tables",
      "schema": "public"
    },
    {
      "type": "text",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "id",
      "entityType": "columns",
      "schema": "public",
      "table": "cafe_opening_hours"
    },
    {
      "type": "text",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "cafe_id",
      "entityType": "columns",
      "schema": "public",
      "table": "cafe_opening_hours"
    },
    {
      "type": "smallint",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "day_of_week",
      "entityType": "columns",
      "schema": "public",
      "table": "cafe_opening_hours"
    },
    {
      "type": "time",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "open_time",
      "entityType": "columns",
      "schema": "public",
      "table": "cafe_opening_hours"
    },
    {
      "type": "time",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "close_time",
      "entityType": "columns",
      "schema": "public",
      "table": "cafe_opening_hours"
    },
    {
      "type": "timestamp",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": "now()",
      "generated": null,
      "identity": null,
      "name": "created_at",
      "entityType": "columns",
      "schema": "public",
      "table": "cafe_opening_hours"
    },
    {
      "type": "timestamp",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "updated_at",
      "entityType": "columns",
      "schema": "public",
      "table": "cafe_opening_hours"
    },
    {
      "type": "text",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "id",
      "entityType": "columns",
      "schema": "public",
      "table": "cafes"
    },
    {
      "type": "varchar(100)",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "name",
      "entityType": "columns",
      "schema": "public",
      "table": "cafes"
    },
    {
      "type": "varchar(120)",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "slug",
      "entityType": "columns",
      "schema": "public",
      "table": "cafes"
    },
    {
      "type": "text",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "description",
      "entityType": "columns",
      "schema": "public",
      "table": "cafes"
    },
    {
      "type": "CafeType",
      "typeSchema": "public",
      "notNull": true,
      "dimensions": 0,
      "default": "'INDOOR_CAFE'",
      "generated": null,
      "identity": null,
      "name": "cafe_type",
      "entityType": "columns",
      "schema": "public",
      "table": "cafes"
    },
    {
      "type": "Region",
      "typeSchema": "public",
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "region",
      "entityType": "columns",
      "schema": "public",
      "table": "cafes"
    },
    {
      "type": "smallint",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": "0",
      "generated": null,
      "identity": null,
      "name": "capacity",
      "entityType": "columns",
      "schema": "public",
      "table": "cafes"
    },
    {
      "type": "smallint",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": "0",
      "generated": null,
      "identity": null,
      "name": "distance",
      "entityType": "columns",
      "schema": "public",
      "table": "cafes"
    },
    {
      "type": "varchar(255)",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "address",
      "entityType": "columns",
      "schema": "public",
      "table": "cafes"
    },
    {
      "type": "varchar(20)",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "phone",
      "entityType": "columns",
      "schema": "public",
      "table": "cafes"
    },
    {
      "type": "varchar(100)",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "email",
      "entityType": "columns",
      "schema": "public",
      "table": "cafes"
    },
    {
      "type": "varchar(255)",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "website",
      "entityType": "columns",
      "schema": "public",
      "table": "cafes"
    },
    {
      "type": "text",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "map_link",
      "entityType": "columns",
      "schema": "public",
      "table": "cafes"
    },
    {
      "type": "PriceRange",
      "typeSchema": "public",
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "price_range",
      "entityType": "columns",
      "schema": "public",
      "table": "cafes"
    },
    {
      "type": "integer",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": "0",
      "generated": null,
      "identity": null,
      "name": "price_per_person",
      "entityType": "columns",
      "schema": "public",
      "table": "cafes"
    },
    {
      "type": "numeric(3,2)",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": "'0'",
      "generated": null,
      "identity": null,
      "name": "average_rating",
      "entityType": "columns",
      "schema": "public",
      "table": "cafes"
    },
    {
      "type": "integer",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": "0",
      "generated": null,
      "identity": null,
      "name": "total_reviews",
      "entityType": "columns",
      "schema": "public",
      "table": "cafes"
    },
    {
      "type": "ContentStatus",
      "typeSchema": "public",
      "notNull": true,
      "dimensions": 0,
      "default": "'PUBLISHED'",
      "generated": null,
      "identity": null,
      "name": "content_status",
      "entityType": "columns",
      "schema": "public",
      "table": "cafes"
    },
    {
      "type": "timestamp",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": "now()",
      "generated": null,
      "identity": null,
      "name": "created_at",
      "entityType": "columns",
      "schema": "public",
      "table": "cafes"
    },
    {
      "type": "timestamp",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": "now()",
      "generated": null,
      "identity": null,
      "name": "updated_at",
      "entityType": "columns",
      "schema": "public",
      "table": "cafes"
    },
    {
      "type": "text",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "id",
      "entityType": "columns",
      "schema": "public",
      "table": "facilities"
    },
    {
      "type": "varchar(60)",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "name",
      "entityType": "columns",
      "schema": "public",
      "table": "facilities"
    },
    {
      "type": "varchar(80)",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "slug",
      "entityType": "columns",
      "schema": "public",
      "table": "facilities"
    },
    {
      "type": "text",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "description",
      "entityType": "columns",
      "schema": "public",
      "table": "facilities"
    },
    {
      "type": "ContentStatus",
      "typeSchema": "public",
      "notNull": true,
      "dimensions": 0,
      "default": "'PUBLISHED'",
      "generated": null,
      "identity": null,
      "name": "content_status",
      "entityType": "columns",
      "schema": "public",
      "table": "facilities"
    },
    {
      "type": "timestamp",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": "now()",
      "generated": null,
      "identity": null,
      "name": "created_at",
      "entityType": "columns",
      "schema": "public",
      "table": "facilities"
    },
    {
      "type": "timestamp",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "updated_at",
      "entityType": "columns",
      "schema": "public",
      "table": "facilities"
    },
    {
      "type": "text",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "cafe_id",
      "entityType": "columns",
      "schema": "public",
      "table": "cafe_facilities"
    },
    {
      "type": "text",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "facility_id",
      "entityType": "columns",
      "schema": "public",
      "table": "cafe_facilities"
    },
    {
      "type": "timestamp",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": "now()",
      "generated": null,
      "identity": null,
      "name": "created_at",
      "entityType": "columns",
      "schema": "public",
      "table": "cafe_facilities"
    },
    {
      "type": "text",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "cafe_id",
      "entityType": "columns",
      "schema": "public",
      "table": "cafe_terms"
    },
    {
      "type": "text",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "term_id",
      "entityType": "columns",
      "schema": "public",
      "table": "cafe_terms"
    },
    {
      "type": "timestamp",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": "now()",
      "generated": null,
      "identity": null,
      "name": "created_at",
      "entityType": "columns",
      "schema": "public",
      "table": "cafe_terms"
    },
    {
      "type": "timestamp",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "updated_at",
      "entityType": "columns",
      "schema": "public",
      "table": "cafe_terms"
    },
    {
      "type": "text",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "id",
      "entityType": "columns",
      "schema": "public",
      "table": "terms"
    },
    {
      "type": "varchar(60)",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "name",
      "entityType": "columns",
      "schema": "public",
      "table": "terms"
    },
    {
      "type": "varchar(80)",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "slug",
      "entityType": "columns",
      "schema": "public",
      "table": "terms"
    },
    {
      "type": "text",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "description",
      "entityType": "columns",
      "schema": "public",
      "table": "terms"
    },
    {
      "type": "ContentStatus",
      "typeSchema": "public",
      "notNull": true,
      "dimensions": 0,
      "default": "'PUBLISHED'",
      "generated": null,
      "identity": null,
      "name": "content_status",
      "entityType": "columns",
      "schema": "public",
      "table": "terms"
    },
    {
      "type": "timestamp",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": "now()",
      "generated": null,
      "identity": null,
      "name": "created_at",
      "entityType": "columns",
      "schema": "public",
      "table": "terms"
    },
    {
      "type": "timestamp",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "updated_at",
      "entityType": "columns",
      "schema": "public",
      "table": "terms"
    },
    {
      "nameExplicit": true,
      "columns": [
        {
          "value": "cafe_id",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        },
        {
          "value": "day_of_week",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        }
      ],
      "isUnique": false,
      "where": null,
      "with": "",
      "method": "btree",
      "concurrently": false,
      "name": "idx_hours_cafe_day",
      "entityType": "indexes",
      "schema": "public",
      "table": "cafe_opening_hours"
    },
    {
      "nameExplicit": true,
      "columns": [
        {
          "value": "region",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        },
        {
          "value": "cafe_type",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        }
      ],
      "isUnique": false,
      "where": null,
      "with": "",
      "method": "btree",
      "concurrently": false,
      "name": "idx_cafes_region_type",
      "entityType": "indexes",
      "schema": "public",
      "table": "cafes"
    },
    {
      "nameExplicit": true,
      "columns": [
        {
          "value": "price_per_person",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        },
        {
          "value": "average_rating",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        }
      ],
      "isUnique": false,
      "where": null,
      "with": "",
      "method": "btree",
      "concurrently": false,
      "name": "idx_cafes_price_rating",
      "entityType": "indexes",
      "schema": "public",
      "table": "cafes"
    },
    {
      "nameExplicit": true,
      "columns": [
        {
          "value": "average_rating",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        }
      ],
      "isUnique": false,
      "where": null,
      "with": "",
      "method": "btree",
      "concurrently": false,
      "name": "idx_cafes_avg_rating",
      "entityType": "indexes",
      "schema": "public",
      "table": "cafes"
    },
    {
      "nameExplicit": true,
      "columns": [
        {
          "value": "created_at",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        }
      ],
      "isUnique": false,
      "where": null,
      "with": "",
      "method": "btree",
      "concurrently": false,
      "name": "idx_cafes_created_at",
      "entityType": "indexes",
      "schema": "public",
      "table": "cafes"
    },
    {
      "nameExplicit": true,
      "columns": [
        {
          "value": "facility_id",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        }
      ],
      "isUnique": false,
      "where": null,
      "with": "",
      "method": "btree",
      "concurrently": false,
      "name": "idx_cafe_fac_facility",
      "entityType": "indexes",
      "schema": "public",
      "table": "cafe_facilities"
    },
    {
      "nameExplicit": true,
      "columns": [
        {
          "value": "term_id",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        }
      ],
      "isUnique": false,
      "where": null,
      "with": "",
      "method": "btree",
      "concurrently": false,
      "name": "idx_cafe_term_term",
      "entityType": "indexes",
      "schema": "public",
      "table": "cafe_terms"
    },
    {
      "nameExplicit": false,
      "columns": ["cafe_id"],
      "schemaTo": "public",
      "tableTo": "cafes",
      "columnsTo": ["id"],
      "onUpdate": "CASCADE",
      "onDelete": "CASCADE",
      "name": "cafe_opening_hours_cafe_id_cafes_id_fkey",
      "entityType": "fks",
      "schema": "public",
      "table": "cafe_opening_hours"
    },
    {
      "nameExplicit": false,
      "columns": ["cafe_id"],
      "schemaTo": "public",
      "tableTo": "cafes",
      "columnsTo": ["id"],
      "onUpdate": "CASCADE",
      "onDelete": "CASCADE",
      "name": "cafe_facilities_cafe_id_cafes_id_fkey",
      "entityType": "fks",
      "schema": "public",
      "table": "cafe_facilities"
    },
    {
      "nameExplicit": false,
      "columns": ["facility_id"],
      "schemaTo": "public",
      "tableTo": "facilities",
      "columnsTo": ["id"],
      "onUpdate": "CASCADE",
      "onDelete": "CASCADE",
      "name": "cafe_facilities_facility_id_facilities_id_fkey",
      "entityType": "fks",
      "schema": "public",
      "table": "cafe_facilities"
    },
    {
      "nameExplicit": false,
      "columns": ["cafe_id"],
      "schemaTo": "public",
      "tableTo": "cafes",
      "columnsTo": ["id"],
      "onUpdate": "CASCADE",
      "onDelete": "CASCADE",
      "name": "cafe_terms_cafe_id_cafes_id_fkey",
      "entityType": "fks",
      "schema": "public",
      "table": "cafe_terms"
    },
    {
      "nameExplicit": false,
      "columns": ["term_id"],
      "schemaTo": "public",
      "tableTo": "terms",
      "columnsTo": ["id"],
      "onUpdate": "CASCADE",
      "onDelete": "CASCADE",
      "name": "cafe_terms_term_id_terms_id_fkey",
      "entityType": "fks",
      "schema": "public",
      "table": "cafe_terms"
    },
    {
      "columns": ["cafe_id", "facility_id"],
      "nameExplicit": false,
      "name": "cafe_facilities_pkey",
      "entityType": "pks",
      "schema": "public",
      "table": "cafe_facilities"
    },
    {
      "columns": ["cafe_id", "term_id"],
      "nameExplicit": false,
      "name": "cafe_terms_pkey",
      "entityType": "pks",
      "schema": "public",
      "table": "cafe_terms"
    },
    {
      "columns": ["id"],
      "nameExplicit": false,
      "name": "cafe_opening_hours_pkey",
      "schema": "public",
      "table": "cafe_opening_hours",
      "entityType": "pks"
    },
    {
      "columns": ["id"],
      "nameExplicit": false,
      "name": "cafes_pkey",
      "schema": "public",
      "table": "cafes",
      "entityType": "pks"
    },
    {
      "columns": ["id"],
      "nameExplicit": false,
      "name": "facilities_pkey",
      "schema": "public",
      "table": "facilities",
      "entityType": "pks"
    },
    {
      "columns": ["id"],
      "nameExplicit": false,
      "name": "terms_pkey",
      "schema": "public",
      "table": "terms",
      "entityType": "pks"
    },
    {
      "nameExplicit": false,
      "columns": ["slug"],
      "nullsNotDistinct": false,
      "name": "cafes_slug_key",
      "schema": "public",
      "table": "cafes",
      "entityType": "uniques"
    },
    {
      "nameExplicit": false,
      "columns": ["phone"],
      "nullsNotDistinct": false,
      "name": "cafes_phone_key",
      "schema": "public",
      "table": "cafes",
      "entityType": "uniques"
    },
    {
      "nameExplicit": false,
      "columns": ["email"],
      "nullsNotDistinct": false,
      "name": "cafes_email_key",
      "schema": "public",
      "table": "cafes",
      "entityType": "uniques"
    },
    {
      "nameExplicit": false,
      "columns": ["website"],
      "nullsNotDistinct": false,
      "name": "cafes_website_key",
      "schema": "public",
      "table": "cafes",
      "entityType": "uniques"
    },
    {
      "nameExplicit": false,
      "columns": ["map_link"],
      "nullsNotDistinct": false,
      "name": "cafes_map_link_key",
      "schema": "public",
      "table": "cafes",
      "entityType": "uniques"
    },
    {
      "nameExplicit": false,
      "columns": ["name"],
      "nullsNotDistinct": false,
      "name": "facilities_name_key",
      "schema": "public",
      "table": "facilities",
      "entityType": "uniques"
    },
    {
      "nameExplicit": false,
      "columns": ["slug"],
      "nullsNotDistinct": false,
      "name": "facilities_slug_key",
      "schema": "public",
      "table": "facilities",
      "entityType": "uniques"
    },
    {
      "nameExplicit": false,
      "columns": ["name"],
      "nullsNotDistinct": false,
      "name": "terms_name_key",
      "schema": "public",
      "table": "terms",
      "entityType": "uniques"
    },
    {
      "nameExplicit": false,
      "columns": ["slug"],
      "nullsNotDistinct": false,
      "name": "terms_slug_key",
      "schema": "public",
      "table": "terms",
      "entityType": "uniques"
    }
  ],
  "renames": []
}
